<!DOCTYPE html>
<html lang="zh-CN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1">
        <title>Geth POA联盟链搭建 - Maahes Satoshi</title><meta name="Description" content="人生、技术、投资和这个世界."><meta property="og:title" content="Geth POA联盟链搭建" />
<meta property="og:description" content="搭建以太坊联盟链 创建节点目录 1 2 3 [root@google01 private-POA-chian]# mkdir node-1 node-2 node-3 [root@google01 private-POA-chian]# ls node-1 node-2 node-3 新建账户 1 2 3 [root@google01 private-POA-chian]# geth --datadir ./node-1/data account new [root@google01 private-POA-chian]# geth --datadir ./node-2/data account new [root@google01 private-POA-chian]# geth --datadir ./node-3/data account new 创建的地址 node-1：8" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://7levy.github.io/posts/geth-poa%E8%81%94%E7%9B%9F%E9%93%BE%E6%90%AD%E5%BB%BA/" /><meta property="og:image" content="https://7levy.github.io/posts/geth-poa%E8%81%94%E7%9B%9F%E9%93%BE%E6%90%AD%E5%BB%BA/featured-image.jpg"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2019-09-05T16:30:05+08:00" />
<meta property="article:modified_time" content="2019-09-05T16:30:05+08:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://7levy.github.io/posts/geth-poa%E8%81%94%E7%9B%9F%E9%93%BE%E6%90%AD%E5%BB%BA/featured-image.jpg"/>
<meta name="twitter:title" content="Geth POA联盟链搭建"/>
<meta name="twitter:description" content="搭建以太坊联盟链 创建节点目录 1 2 3 [root@google01 private-POA-chian]# mkdir node-1 node-2 node-3 [root@google01 private-POA-chian]# ls node-1 node-2 node-3 新建账户 1 2 3 [root@google01 private-POA-chian]# geth --datadir ./node-1/data account new [root@google01 private-POA-chian]# geth --datadir ./node-2/data account new [root@google01 private-POA-chian]# geth --datadir ./node-3/data account new 创建的地址 node-1：8"/>
<meta name="application-name" content="LoveIt">
<meta name="apple-mobile-web-app-title" content="LoveIt"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://7levy.github.io/posts/geth-poa%E8%81%94%E7%9B%9F%E9%93%BE%E6%90%AD%E5%BB%BA/" /><link rel="prev" href="https://7levy.github.io/posts/why-web3-matters/" /><link rel="next" href="https://7levy.github.io/posts/analysis-of-a-technical-smart-contract-scam/" /><link rel="stylesheet" href="/lib/normalize/normalize.min.css"><link rel="stylesheet" href="/css/style.min.css"><link rel="stylesheet" href="/lib/fontawesome-free/all.min.css"><link rel="stylesheet" href="/lib/animate/animate.min.css"><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Geth POA联盟链搭建",
        "inLanguage": "zh-CN",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/7levy.github.io\/posts\/geth-poa%E8%81%94%E7%9B%9F%E9%93%BE%E6%90%AD%E5%BB%BA\/"
        },"image": [{
                            "@type": "ImageObject",
                            "url": "https:\/\/7levy.github.io\/posts\/geth-poa%E8%81%94%E7%9B%9F%E9%93%BE%E6%90%AD%E5%BB%BA\/featured-image.jpg",
                            "width":  1920 ,
                            "height":  1080 
                        }],"genre": "posts","keywords": "deploy, geth","wordcount":  1378 ,
        "url": "https:\/\/7levy.github.io\/posts\/geth-poa%E8%81%94%E7%9B%9F%E9%93%BE%E6%90%AD%E5%BB%BA\/","datePublished": "2019-09-05T16:30:05+08:00","dateModified": "2019-09-05T16:30:05+08:00","publisher": {
            "@type": "Organization",
            "name": "Levy"},"author": {
                "@type": "Person",
                "name": "Levy"
            },"description": ""
    }
    </script></head>
    <body header-desktop="fixed" header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="Maahes Satoshi"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="/images/chain.png"
        data-srcset="/images/chain.png, /images/chain.png 1.5x, /images/chain.png 2x"
        data-sizes="auto"
        alt="/images/chain.png"
        title="/images/chain.png" /><span id="id-1" class="typeit"></span></a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> 所有文章 </a><a class="menu-item" href="/tags/"> 标签 </a><a class="menu-item" href="/categories/"> 分类 </a><a class="menu-item" href="/about/"> 关于 </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="请输入文章名称或内容" id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                    <i class="fas fa-adjust fa-fw"></i>
                </a>
            </div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="Maahes Satoshi"><img
        class="lazyload logo"
        src="/svg/loading.min.svg"
        data-src="/images/chain.png"
        data-srcset="/images/chain.png, /images/chain.png 1.5x, /images/chain.png 2x"
        data-sizes="auto"
        alt="/images/chain.png"
        title="/images/chain.png" /><span id="id-2" class="typeit"></span></a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="请输入文章名称或内容" id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="搜索">
                            <i class="fas fa-search fa-fw"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="清空">
                            <i class="fas fa-times-circle fa-fw"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        取消
                    </a>
                </div><a class="menu-item" href="/posts/" title="">所有文章</a><a class="menu-item" href="/tags/" title="">标签</a><a class="menu-item" href="/categories/" title="">分类</a><a class="menu-item" href="/about/" title="">关于</a><a href="javascript:void(0);" class="menu-item theme-switch" title="切换主题">
                <i class="fas fa-adjust fa-fw"></i>
            </a></div>
    </div>
</header>
<div class="search-dropdown desktop">
    <div id="search-dropdown-desktop"></div>
</div>
<div class="search-dropdown mobile">
    <div id="search-dropdown-mobile"></div>
</div>
<main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">目录</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animated flipInX">Geth POA联盟链搭建</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="https://github.com/7Levy" title="Author" target="_blank" rel="noopener noreffer author" class="author"><i class="fas fa-user-circle fa-fw"></i>Levy</a></span>&nbsp;<span class="post-category">收录于 <a href="/categories/ethereum/"><i class="far fa-folder fa-fw"></i>ethereum</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime="2019-09-05">2019-09-05</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;约 1378 字&nbsp;
                <i class="far fa-clock fa-fw"></i>&nbsp;预计阅读 3 分钟&nbsp;</div>
        </div><div class="featured-image"><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="/posts/geth-poa%E8%81%94%E7%9B%9F%E9%93%BE%E6%90%AD%E5%BB%BA/featured-image.jpg"
        data-srcset="/posts/geth-poa%E8%81%94%E7%9B%9F%E9%93%BE%E6%90%AD%E5%BB%BA/featured-image.jpg, /posts/geth-poa%E8%81%94%E7%9B%9F%E9%93%BE%E6%90%AD%E5%BB%BA/featured-image.jpg 1.5x, /posts/geth-poa%E8%81%94%E7%9B%9F%E9%93%BE%E6%90%AD%E5%BB%BA/featured-image.jpg 2x"
        data-sizes="auto"
        alt="/posts/geth-poa%E8%81%94%E7%9B%9F%E9%93%BE%E6%90%AD%E5%BB%BA/featured-image.jpg"
        title="/posts/geth-poa%E8%81%94%E7%9B%9F%E9%93%BE%E6%90%AD%E5%BB%BA/featured-image.jpg" /></div><div class="details toc" id="toc-static"  kept="">
                <div class="details-summary toc-title">
                    <span>目录</span>
                    <span><i class="details-icon fas fa-angle-right"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li><a href="#搭建以太坊联盟链">搭建以太坊联盟链</a>
      <ul>
        <li><a href="#创建节点目录">创建节点目录</a></li>
        <li><a href="#新建账户">新建账户</a></li>
        <li><a href="#puppeth初始化区块">puppeth初始化区块</a></li>
        <li><a href="#私链搭建">私链搭建</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><h2 id="搭建以太坊联盟链">搭建以太坊联盟链</h2>
<h3 id="创建节点目录">创建节点目录</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[root@google01 private-POA-chian]# mkdir node-1 node-2 node-3
[root@google01 private-POA-chian]# ls
node-1  node-2  node-3
</code></pre></td></tr></table>
</div>
</div><h3 id="新建账户">新建账户</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[root@google01 private-POA-chian]# geth --datadir ./node-1/data account new
[root@google01 private-POA-chian]# geth --datadir ./node-2/data account new
[root@google01 private-POA-chian]# geth --datadir ./node-3/data account new
</code></pre></td></tr></table>
</div>
</div><p>创建的地址</p>
<p>node-1：88b34c24E8F727b44C17065A26B76Bc31CF2c029</p>
<p>node-2：241f173D632C57773B552953Fe1f2821d24BE072</p>
<p>node-3：Aae8AD28560E70f81815ff5B5AD9d65dC4E7Ca22</p>
<h3 id="puppeth初始化区块">puppeth初始化区块</h3>
<p><strong>输入链名称</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[root@google01 private-POA-chian]# puppeth
+-----------------------------------------------------------+
| Welcome to puppeth, your Ethereum private network manager |
|                                                           |
| This tool lets you create a new Ethereum network down to  |
| the genesis block, bootnodes, miners and ethstats servers |
| without the hassle that it would normally entail.         |
|                                                           |
| Puppeth uses SSH to dial in to remote servers, and builds |
| its network components out of Docker containers using the |
| docker-compose toolset.                                   |
+-----------------------------------------------------------+

Please specify a network name to administer (no spaces, hyphens or capital letters please)
&gt; test

Sweet, you can set this via --network=test next time!

INFO [11-26|14:35:42.756] Administering Ethereum network           name=test
WARN [11-26|14:35:42.756] No previous configurations found         path=/root/.puppeth/test
</code></pre></td></tr></table>
</div>
</div><p><strong>新建区块-&gt;选择POA算法-&gt;出块时间10秒</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">What would you like to do? (default = stats)
 1. Show network stats
 2. Configure new genesis
 3. Track new remote server
 4. Deploy network components
&gt; 2

What would you like to do? (default = create)
 1. Create new genesis from scratch
 2. Import already existing genesis
&gt; 1

Which consensus engine to use? (default = clique)
 1. Ethash - proof-of-work
 2. Clique - proof-of-authority
&gt; 2

How many seconds should blocks take? (default = 15)
&gt; 10
</code></pre></td></tr></table>
</div>
</div><p><strong>选择密封块账户</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Which accounts are allowed to seal? (mandatory at least one)
&gt; 0x88b34c24E8F727b44C17065A26B76Bc31CF2c029
&gt; 0x241f173D632C57773B552953Fe1f2821d24BE072
&gt; 0xAae8AD28560E70f81815ff5B5AD9d65dC4E7Ca22
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>至于什么是seal a block可以参考stackexchange的回答https://ethereum.stackexchange.com/questions/6093/what-does-it-mean-to-seal-a-block</p>
</blockquote>
<p><strong>选择区块奖励账户</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Which accounts should be pre-funded? (advisable at least one)
&gt; 0x88b34c24E8F727b44C17065A26B76Bc31CF2c029
&gt; 0x241f173D632C57773B552953Fe1f2821d24BE072
&gt; 0xAae8AD28560E70f81815ff5B5AD9d65dC4E7Ca22
</code></pre></td></tr></table>
</div>
</div><p><strong>设置预编译地址奖励及链ID</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">Should the precompile-addresses (0x1 .. 0xff) be pre-funded with 1 wei? (advisable yes)
&gt; yes
Specify your chain/network ID if you want an explicit one (default = random)
&gt; 15
</code></pre></td></tr></table>
</div>
</div><blockquote>
<p>预编译地址的用处https://ethereum.stackexchange.com/questions/68056/puppeth-precompile-addresses</p>
<p>&ldquo;When running sha256, ripemd160 or ecrecover on a private blockchain, you might encounter Out-of-Gas. This is because these functions are implemented as “precompiled contracts” and only really exist after they receive the first message (although their contract code is hardcoded). Messages to non-existing contracts are more expensive and thus the execution might run into an Out-of-Gas error. A workaround for this problem is to first send Wei (1 for example) to each of the contracts before you use them in your actual contracts. This is not an issue on the main or test net.&rdquo;</p>
</blockquote>
<p><strong>导出配置</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">What would you like to do? (default = stats)
 1. Show network stats
 2. Manage existing genesis
 3. Track new remote server
 4. Deploy network components
&gt; 2

 1. Modify existing configurations
 2. Export genesis configurations
 3. Remove genesis configuration
&gt; 2

Which folder to save the genesis specs into? (default = current)
  Will create test.json, test-aleth.json, test-harmony.json, test-parity.json
&gt; 
INFO [11-26|14:59:18.889] Saved native genesis chain spec          path=test.json
ERROR[11-26|14:59:18.889] Failed to create Aleth chain spec        err=&#34;unsupported consensus engine&#34;
ERROR[11-26|14:59:18.889] Failed to create Parity chain spec       err=&#34;unsupported consensus engine&#34;
INFO [11-26|14:59:18.890] Saved genesis chain spec                 client=harmony path=test-harmony.json
</code></pre></td></tr></table>
</div>
</div><h3 id="私链搭建">私链搭建</h3>
<p><strong>加载配置</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">geth --datadir node-1/data init test.json
geth --datadir node-2/data init test.json
geth --datadir node-3/data init test.json
</code></pre></td></tr></table>
</div>
</div><p><strong>启动区块链</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">geth --datadir ./node-1/data/ --port 1185
geth --datadir ./node-2/data/ --port 1186
geth --datadir ./node-3/data/ --port 1187

[root@google01 private-POA-chian]# screen -ls
There are screens on:
	4439.node-3	(Detached)
	4397.node-2	(Detached)
	4298.node-1	(Detached)
</code></pre></td></tr></table>
</div>
</div><p><strong>节点建立通信</strong></p>
<ul>
<li>登录node-1,获取节点信息</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">[root@google01 private-POA-chian]# geth attach ipc:node-1/data/geth.ipc
Welcome to the Geth JavaScript console!

instance: Geth/v1.10.12-stable-6c4dc6c3/linux-amd64/go1.17.2
coinbase: 0x88b34c24e8f727b44c17065a26b76bc31cf2c029
at block: 0 (Fri Nov 26 2021 14:48:33 GMT+0800 (CST))
 datadir: /home/fqc/projects/blockchain/ethereum/private-POA-chian/node-1/data
 modules: admin:1.0 clique:1.0 debug:1.0 eth:1.0 miner:1.0 net:1.0 personal:1.0 rpc:1.0 txpool:1.0 web3:1.0

To exit, press ctrl-d or type exit
&gt; 
&gt; admin.nodeInfo.enode
&#34;enode://567c2b4de752396bab3fee6d2f31fb705c1a3b40f929cc4852961b5ddd15ad47c580ee2cb35a596351e125c8210c345aee19b104e5b66596c108c24ac9cb3329@115.29.190.53:1185&#34;
</code></pre></td></tr></table>
</div>
</div><ul>
<li>登录node-2、node-3建立peer通信</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">admin.addPeer(&#34;enode://567c2b4de752396bab3fee6d2f31fb705c1a3b40f929cc4852961b5ddd15ad47c580ee2cb35a596351e125c8210c345aee19b104e5b66596c108c24ac9cb3329@127.0.0.1:1185&#34;)
</code></pre></td></tr></table>
</div>
</div><ul>
<li>登录node-1确定是否成功</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">&gt; net.peerCount
&gt; admin.peers
</code></pre></td></tr></table>
</div>
</div><p><strong>测试</strong></p>
<ul>
<li>登录node-1，查询账户余额</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">&gt; web3.fromWei(eth.getBalance(eth.accounts[0]),&#39;ether&#39;)
9.04625697166532776746648320380374280103671755200316906558262375061821325312e+56
</code></pre></td></tr></table>
</div>
</div><ul>
<li>转账交易</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">&gt; personal.unlockAccount(eth.accounts[0])
Unlock account 0x88b34c24e8f727b44c17065a26b76bc31cf2c029
Passphrase: 
true
&gt; eth.sendTransaction({from:eth.accounts[0], to:&#34;241f173D632C57773B552953Fe1f2821d24BE072&#34;, value:20000})
&#34;0x8216e70d056ff0e02701d75b0059489eb7b293128b8a19ae393590b5b05a7281&#34;
</code></pre></td></tr></table>
</div>
</div><ul>
<li>查询交易。可以看到区块还未打包，因此需要开启挖矿节点</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">&gt; eth.getTransaction(&#34;0xa86e66aa6b9b35672f0f9d235d258b681a13e03b232a97c6e994db7167f8f1e6&#34;)
{
  blockHash: null,
  blockNumber: null,
  from: &#34;0x88b34c24e8f727b44c17065a26b76bc31cf2c029&#34;,
  gas: 21000,
  gasPrice: 1000000000,
  hash: &#34;0xa86e66aa6b9b35672f0f9d235d258b681a13e03b232a97c6e994db7167f8f1e6&#34;,
  input: &#34;0x&#34;,
  nonce: 4,
  r: &#34;0x46ed1d6d2c8f28e5db451d061303051aca58470a1ed4126e95e5af58345d1bc7&#34;,
  s: &#34;0x5a722e13a7524a8e0ca4ae4c75b3619575da921ece96bde2702c7cb720117383&#34;,
  to: &#34;0x241f173d632c57773b552953fe1f2821d24be072&#34;,
  transactionIndex: null,
  type: &#34;0x0&#34;,
  v: &#34;0x41&#34;,
  value: 1e+66
}

&gt; txpool.status #查看交易状态
{
  pending: 6,
  queued: 0
}
</code></pre></td></tr></table>
</div>
</div><ul>
<li>启动挖矿</li>
</ul>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre tabindex="0" class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre tabindex="0" class="chroma"><code class="language-fallback" data-lang="fallback">miner.start()
eth.hashrate #查看挖矿状态
</code></pre></td></tr></table>
</div>
</div></div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>更新于 2019-09-05</span>
            </div>
            <div class="post-info-license"></div>
        </div>
        <div class="post-info-line">
            <div class="post-info-md"></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="分享到 Twitter" data-sharer="twitter" data-url="https://7levy.github.io/posts/geth-poa%E8%81%94%E7%9B%9F%E9%93%BE%E6%90%AD%E5%BB%BA/" data-title="Geth POA联盟链搭建" data-hashtags="deploy,geth"><i class="fab fa-twitter fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Facebook" data-sharer="facebook" data-url="https://7levy.github.io/posts/geth-poa%E8%81%94%E7%9B%9F%E9%93%BE%E6%90%AD%E5%BB%BA/" data-hashtag="deploy"><i class="fab fa-facebook-square fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Linkedin" data-sharer="linkedin" data-url="https://7levy.github.io/posts/geth-poa%E8%81%94%E7%9B%9F%E9%93%BE%E6%90%AD%E5%BB%BA/"><i class="fab fa-linkedin fa-fw"></i></a><a href="javascript:void(0);" title="分享到 WhatsApp" data-sharer="whatsapp" data-url="https://7levy.github.io/posts/geth-poa%E8%81%94%E7%9B%9F%E9%93%BE%E6%90%AD%E5%BB%BA/" data-title="Geth POA联盟链搭建" data-web><i class="fab fa-whatsapp fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Reddit" data-sharer="reddit" data-url="https://7levy.github.io/posts/geth-poa%E8%81%94%E7%9B%9F%E9%93%BE%E6%90%AD%E5%BB%BA/"><i class="fab fa-reddit fa-fw"></i></a><a href="javascript:void(0);" title="分享到 微博" data-sharer="weibo" data-url="https://7levy.github.io/posts/geth-poa%E8%81%94%E7%9B%9F%E9%93%BE%E6%90%AD%E5%BB%BA/" data-title="Geth POA联盟链搭建"><i class="fab fa-weibo fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Blogger" data-sharer="blogger" data-url="https://7levy.github.io/posts/geth-poa%E8%81%94%E7%9B%9F%E9%93%BE%E6%90%AD%E5%BB%BA/" data-title="Geth POA联盟链搭建" data-description=""><i class="fab fa-blogger fa-fw"></i></a><a href="javascript:void(0);" title="分享到 Evernote" data-sharer="evernote" data-url="https://7levy.github.io/posts/geth-poa%E8%81%94%E7%9B%9F%E9%93%BE%E6%90%AD%E5%BB%BA/" data-title="Geth POA联盟链搭建"><i class="fab fa-evernote fa-fw"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw"></i>&nbsp;<a href="/tags/deploy/">deploy</a>,&nbsp;<a href="/tags/geth/">geth</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">返回</a></span>&nbsp;|&nbsp;<span><a href="/">主页</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/posts/why-web3-matters/" class="prev" rel="prev" title="Why Web3 Matters-为什么Web3如此重要？"><i class="fas fa-angle-left fa-fw"></i>Why Web3 Matters-为什么Web3如此重要？</a>
            <a href="/posts/analysis-of-a-technical-smart-contract-scam/" class="next" rel="next" title="Analysis of a technical smart contract scam-一起智能合约骗局剖析">Analysis of a technical smart contract scam-一起智能合约骗局剖析<i class="fas fa-angle-right fa-fw"></i></a></div>
</div>
</article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">我们绝不倒下.让刽子手显得高大.好阻挡那自由的风</div><div class="footer-line"><i class="far fa-copyright fa-fw"></i><span itemprop="copyrightYear">2020 - 2021</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">Levy</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="回到顶部">
                <i class="fas fa-arrow-up fa-fw"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="查看评论">
                <i class="fas fa-comment fa-fw"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/katex/katex.min.css"><link rel="stylesheet" href="/lib/katex/copy-tex.min.css"><script type="text/javascript" src="/lib/smooth-scroll/smooth-scroll.min.js"></script><script type="text/javascript" src="/lib/autocomplete/autocomplete.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.stemmer.support.min.js"></script><script type="text/javascript" src="/lib/lunr/lunr.zh.min.js"></script><script type="text/javascript" src="/lib/lazysizes/lazysizes.min.js"></script><script type="text/javascript" src="/lib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="/lib/sharer/sharer.min.js"></script><script type="text/javascript" src="/lib/typeit/typeit.min.js"></script><script type="text/javascript" src="/lib/katex/katex.min.js"></script><script type="text/javascript" src="/lib/katex/auto-render.min.js"></script><script type="text/javascript" src="/lib/katex/copy-tex.min.js"></script><script type="text/javascript" src="/lib/katex/mhchem.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"复制到剪贴板","maxShownLines":10},"comment":{},"data":{"id-1":"Maahes Satoshi","id-2":"Maahes Satoshi"},"math":{"delimiters":[{"display":true,"left":"$$","right":"$$"},{"display":true,"left":"\\[","right":"\\]"},{"display":false,"left":"$","right":"$"},{"display":false,"left":"\\(","right":"\\)"}],"strict":false},"search":{"highlightTag":"em","lunrIndexURL":"/index.json","lunrLanguageCode":"zh","lunrSegmentitURL":"/lib/lunr/lunr.segmentit.js","maxResultLength":10,"noResultsFound":"没有找到结果","snippetLength":50,"type":"lunr"},"typeit":{"cursorChar":"|","cursorSpeed":1000,"data":{"id-1":["id-1"],"id-2":["id-2"]},"duration":0,"speed":100}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
